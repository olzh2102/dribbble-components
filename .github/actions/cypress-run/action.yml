name: ðŸ‡¨ðŸ‡¾ Cypress run
description: ðŸ‡¨ðŸ‡¾ Cypress run
inputs:
  workdir:
    description: '(path)'
    required: false
    default: ./
  publicKey:
    description: 'EmailJS public key'
    required: true
  serviceId:
    description: 'EmailJS service id'
    required: true
  templateId:
    description: 'EmailJS template id'
    required: true
runs:
  using: 'composite'
  steps:
    - name: ðŸ‡¨ðŸ‡¾ Cypress run
      uses: cypress-io/github-action@v5
      with:
        working-directory: ${{ inputs.workdir }}
        install: false
        build: yarn build
        start: yarn start
      env:
        NEXT_PUBLIC_PUBLIC_KEY: ${{ inputs.publicKey }}
        NEXT_PUBLIC_SERVICE_ID: ${{ inputs.serviceId }}
        NEXT_PUBLIC_TEMPLATE_ID: ${{ inputs.templateId }}
